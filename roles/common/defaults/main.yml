---
# defaults file for java
 - hosts: all
   become: yes
   tasks:
     
     - name: Add apt repository webupd8team
       apt-repository:repo="ppa:webupd8team/java" update_cache=yes

     - name: Install Oracle Java8
       apt: name={{item}} state=present
       with_items:
            - oracle-java8-installer
            - oracle-java8-set-default
     
     - name: Set JAVA_HOME
       lineinfile: dest=/etc/environment state=present regexp='^JAVA_HOME'
          line='JAVA_HOME=/usr/lib/jvm/java-8-oracle'

     - name: Set JRE_HOME
       lineinfile: dest=/etc/environment state=present regexp='^JRE_HOME'
          line='JAVA_HOME=/usr/lib/jvm/java-8-oracle/jre'
